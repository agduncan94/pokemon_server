<head>
  <title>Server Dashboard</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../styles/css-pokemon-gameboy.css">
</head>

<body style="font-family:Pokemon GB">
  {{> serverStats}}
</body>

<template name="serverStats">
  {{#if serverStats}}

  <div class="framed exclude-border">
    <span>{{randomUser.name}}</span>
  </div>

  <h1>Servers</h1>
  <div id="main" class="grid grid-cols-2 gap-1 justify-evenly">
      <div class="framed exclude-border">

        <div>
          {{jsonPrint serverStats.globalUsage}}
        </div>
        
      {{#each serverStats.users}}
        <span>{{name}}</span>
        <div class="progress-bar-container">
          <label for="progressBar">CPU Usage:{{cpuUsage}}%</label>
          <div class="{{getCpuClass cpuUsage}}"></div>
        </div>
        <div class="progress-bar-container">
          <label for="progressBar">Memory Usage:{{memoryUsage}}%</label>
          <div class="{{getCpuClass memoryUsage}}"></div>
        </div>
        <div class="progress-bar-container">
          <label for="progressBar">GPU Memory Usage:{{gpuMemoryUsage}}%</label>
          <div class="{{getCpuClass gpuMemoryUsage}}"></div>
        </div>
        {{/each}}
      </div>
    </div>

  {{else}}
    <p>Loading server stats...</p>
  {{/if}}
</template>